{"version":3,"sources":["webpack:///./src/views/chapter1/1.4/1.4.2/index.vue?13ba","webpack:///./src/views/chapter1/1.4/1.4.2/index.vue?ab2b","webpack:///./src/views/chapter1/1.4/1.4.2/index.vue?b0b4","webpack:///./src/views/chapter1/1.4/1.4.2/index.vue","webpack:///./src/hycom_lib/chapter1.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","title","data","initData","result","demoContent","demoResult","formulas","staticRenderFns","v_0","h","h_2","t","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","tj","toFixed","toString","components","HycomForm","component","Chapter1","kcsmqxsyy","n","b","H0","C","m","epsilon","sigmam","B","Q","Math","sqrt","pow","kdy","v0","H","P1","bedge","P1divH0","outObj","tfy","btype","dxqsyy","Hd","D","P1divHd","mu","HdivD","dxqpdzxljs","slotSurfaceLine","type","Qc","bc","nz","i","phi","N","L","alpha","hk","Rk","Ck","ik","outArray","h0","learningRate","theta","atan","precision","syy","h0right","cos","chkValue","abs","deltaL","outH","push","nn","RECTANGLE","slkqhs","nabla","hv","v","ha","sigma","out","Hksw","Hbk","h2","PI","h1","v1","sin","tanbeta","tan","Lc","Ltotal","ckjs","Hup","Hdown","K","Hdowndeep","T","spghhtsdsyjs","h1right","Fr1","xwsxlcsyjs","ht","deltaZ","s","Lk","cydylqydzcdjs","eplisonk","ccdsmxjs","bs","bm","hm","bn","vn","Rn","Qn","deltaH","delta","ii","res"],"mappings":"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","file":"js/1.4.2.a07d56cb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('hycom-form',{attrs:{\"title\":_vm.title,\"data\":_vm.data,\"init-data\":_vm.initData,\"result\":_vm.result,\"demo-content\":_vm.demoContent,\"demo-result\":_vm.demoResult,\"formulas\":_vm.formulas}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport { Chapter1 } from '@/hycom_lib/chapter1'\r\n\r\nimport HycomForm from '@/components/HycomForm/index.vue'\r\n\r\n@Component({\r\n  components: {\r\n    HycomForm\r\n  }\r\n})\r\nexport default class Chapter1Section4Sub2 extends Vue {\r\n  private title = '1.4.2挑流挑距计算';\r\n  private initData = {\r\n    'H_{库水位}': 233,\r\n    'H_{鼻坎}': 98.466,\r\n    v_0: 2.6,\r\n    h: 7.781,\r\n    '\\\\theta': 15,\r\n    h_2: 42.466,\r\n    t: 87.26\r\n  };\r\n  private data = {\r\n    'H_{库水位}': '',\r\n    'H_{鼻坎}': '',\r\n    v_0: '',\r\n    h: '',\r\n    '\\\\theta': '',\r\n    h_2: '',\r\n    t: ''\r\n  };\r\n\r\n  private formulas = {\r\n    0: '$$Q :下泄流量，m/s^3$$',\r\n    1: '$$L :自挑流鼻坎坎顶算起的挑流水舌外缘与下游水面交点的水平距离，m$$',\r\n    2: '$$L^{\\\\prime} :冲坑最低点到挑坎坎顶的水平距离,m$$',\r\n    3: '$$\\\\theta :鼻坎挑角$$',\r\n    4: '$$h :鼻坎法向平均水深，近似取泄槽末端水深,m$$',\r\n    5: '$$g :重力加速度，m/s2，取9.8$$',\r\n    6: '$$v_0 :水库堰前行近流速，m/s$$',\r\n    7: '$$H_0 :鼻坎坎顶总水头，m$$',\r\n    8: '$$H_{库水位} :水库水位，m$$',\r\n    9: '$$H_{鼻坎} :鼻坎坎顶高程，m$$',\r\n    10: '$$h_1 :挑流鼻坎坎顶铅直方向水深,m$$',\r\n    11: '$$h_2 :鼻坎坎顶至下游水面高差，m，如计算最深点距鼻坎的距离，该值采用坎顶至冲坑最深点高程差,m$$',\r\n    12: '$$v_1 :鼻坎坎顶水面流速，m/s$$',\r\n    13: '$$T :冲坑深度，由河床底面至坑低，m$$',\r\n    14: '$$\\\\beta :水舌外缘与下游水面夹角$$',\r\n    15: '$$L_c :水面以下水舌长度的水平投影计算$$',\r\n    16: '$$t :自下游水面至坑底最大水垫深度，m，当t<H_2时，t采用H_2,m$$'\r\n  };\r\n\r\n  private demoContent =\r\n    '同上例,某国外水电站工程,溢洪道为实用堰,弧形闸门控制,4 孔闸,单孔净宽15m,堰前行近流速为2.6m,PMF 洪水下,水库水位233m,下泄流量14600m3/s,泄槽有一2m 厚的中墩,单槽宽25m,鼻坎坎顶高程98.466m,下游水位56m,下游河床高程37m,鼻坎挑角15º,计算PMF洪水下挑距。';\r\n  private demoResult = '求得PMF洪水下挑距为333.65';\r\n\r\n  get result() {\r\n    return (\r\n      'PMF洪水下挑距=' +\r\n      Chapter1.tj(\r\n        +this.data['H_{库水位}'],\r\n        +this.data['H_{鼻坎}'],\r\n        +this.data.v_0,\r\n        +this.data.h,\r\n        +this.data['\\\\theta'],\r\n        +this.data.h_2,\r\n        +this.data.t\r\n      )\r\n        .toFixed(2)\r\n        .toString()\r\n    )\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=86cfd4da&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable */\r\nimport { g, syyType, shapeType, ssflSGD, ccssmSGD } from './common'\r\n/**\r\n * Chapter1 溢洪道水力学计算\r\n * 部分计算参考以下网址\r\n * https://raymondmcguire.github.io/?e=HYCAL&&theme=Image-Visual-Lab\r\n */\r\nexport module Chapter1 {\r\n\r\n  /**\r\n   * 1.1泄流能力计算\r\n   * 1.1.1开敞式幂曲线实用堰\r\n   * @param n 闸孔数目\r\n   * @param b 单孔宽度\r\n   * @param P1 上游堰高\r\n   * @param Hd 定型设计水头,m,对于高堰, Hd = (75% ~ 95)Hmax ,Hmax为校核流量对应的水头\r\n   * @param H 堰上水头,m,取堰前 0 0 3H ~ 6H 处；\r\n   * @param v0 引渠的行进流速,m/s；\r\n   * @param C 上游坡角修正系数\r\n   * @param m 流量系数\r\n   * @param epsilon 侧收缩系数\r\n   * @param sigmam 淹没系数\r\n   * @returns Q PMF下泄量\r\n   */\r\n  export function kcsmqxsyy(n: number, b: number, H0: number,\r\n    C: number, m: number, epsilon: number,\r\n    sigmam: number) {\r\n    let B = n * b\r\n    // console.log(\"H0:\"+H0);\r\n    let Q = C * m * epsilon * sigmam * B * Math.sqrt(2 * g) * Math.pow(H0, 1.5)\r\n    return Q\r\n  }\r\n\r\n  /**\r\n   * 1.1泄流能力计算\r\n   * 1.1.2宽顶堰\r\n   * @param v0 堰前 0 0 3H ~ 6H 行进流速\r\n   * @param H 堰上水头\r\n   * @param epsilon 侧收缩系数\r\n   * @param n 孔数\r\n   * @param b 单孔宽度\r\n   * @param P1 上游堰高\r\n   * @param bedge 堰进口底坎边缘:方角true,圆角false\r\n   * @returns Q 泄流能力\r\n   */\r\n  export function kdy(v0: number, H: number,\r\n    epsilon: number, n: number, b: number,\r\n    P1: number, bedge: boolean) {\r\n    let H0 = H + v0 * v0 / (2 * g)\r\n    let P1divH0 = P1 / H0\r\n\r\n    // console.log(\"H0:\"+H0);\r\n    // console.log(\"P1/H0:\"+P1divH0);\r\n\r\n    // 流量系数\r\n    let m = 0\r\n    if (bedge) {\r\n      if (P1divH0 <= 3) {\r\n        m = 0.32 + 0.01 * (3 - P1divH0) / (0.46 + 0.75 * P1divH0)\r\n      } else {\r\n        m = 0.32\r\n      }\r\n    } else {\r\n      if (P1divH0 <= 3) {\r\n        m = 0.36 + 0.01 * (3 - P1divH0) / (1.5 * P1divH0)\r\n      } else {\r\n        m = 0.36\r\n      }\r\n    }\r\n    // console.log(\"m:\"+m);\r\n    let Q = m * epsilon * n * b * Math.sqrt(2 * g) * Math.pow(H0, 1.5)\r\n\r\n    let outObj = { 'm': m, 'Q': Q }\r\n    return outObj\r\n  }\r\n\r\n  /**\r\n   * 1.1泄流能力计算\r\n   * 1.1.3驼峰堰\r\n   * @param P1 上游堰高\r\n   * @param v0\r\n   * @param H\r\n   * @param epsilon 侧收缩系数\r\n   * @param n 孔数\r\n   * @param b 单孔宽度\r\n   * @param btype a型true,b型false\r\n   * @returns Q\r\n   */\r\n  export function tfy(P1: number, v0: number, H: number,\r\n    epsilon: number, n: number, b: number,\r\n    btype: boolean) {\r\n    let H0 = H + v0 * v0 / (2 * g)\r\n    let P1divH0 = P1 / H0\r\n\r\n    // console.log(\"H0:\"+H0);\r\n    // console.log(\"P1/H0:\"+P1divH0);\r\n\r\n    let m = 0\r\n    if (btype) {\r\n      if (P1divH0 <= 0.24) {\r\n        m = 0.385 + 0.171 * Math.pow(P1divH0, -0.657)\r\n      } else {\r\n        m = 0.414 * Math.pow(P1divH0, -0.0652)\r\n      }\r\n    } else {\r\n      if (P1divH0 <= 0.34) {\r\n        m = 0.385 + 0.224 * Math.pow(P1divH0, 0.934)\r\n      } else {\r\n        m = 0.452 * Math.pow(P1divH0, -0.032)\r\n      }\r\n    }\r\n\r\n    // console.log(\"m:\"+m);\r\n    let Q = m * epsilon * n * b * Math.sqrt(2 * g) * Math.pow(H0, 1.5)\r\n    let outObj = { 'm': m, 'Q': Q }\r\n    return outObj\r\n  }\r\n\r\n  /**\r\n   * 1.1.4带胸墙孔口泄流能力\r\n   * 1.1.4.1带胸墙实用堰\r\n   * @param H\r\n   * @param v0 堰前 0 0 3H ~ 6H 处断面的平均流速,m/s；\r\n   * @param b 单孔宽度,m；\r\n   * @param n 孔数目；\r\n   * @param P1\r\n   * @param Hd 定型设计水头,m, 可按堰顶以上最大水头Hmax的56%~77%；\r\n   * @param D 孔口高度,m；\r\n   * @returns Q\r\n   * */\r\n  export function dxqsyy(H: number, v0: number,\r\n    b: number, n: number, P1: number, Hd: number,\r\n    D: number) {\r\n    let H0 = H + v0 * v0 / (2 * g)\r\n    let P1divHd = P1 / Hd\r\n    let mu = 0\r\n    let HdivD = H / D\r\n    if (P1divHd > 0.6) {\r\n      mu = 0.7 + 0.1 * (HdivD - 2)\r\n    } else {\r\n      mu = 0.6 + 0.1 * (HdivD - 1.5)\r\n    }\r\n\r\n    let Q = mu * n * b * D * Math.sqrt(2 * g * H0)\r\n    return Q\r\n  }\r\n\r\n  /**\r\n   * 1.1.4带胸墙孔口泄流能力\r\n   * 1.1.4.2带胸墙平底闸泄流计算\r\n   * @param H 堰上水头\r\n   * @param v0 堰前 0 0 3H ~ 6H 处断面的平均流速,m/s；\r\n   * @param b 单孔宽度,m；\r\n   * @param n 孔数目；\r\n   * @param mu 流量系数,圆滑孔口的流量系数在设计时可取0.90\r\n   * @param D 孔口高度,m；\r\n   * @returns Q\r\n   * */\r\n  export function dxqpdzxljs(H: number, v0: number,\r\n    b: number, n: number, mu: number,\r\n    D: number) {\r\n    let H0 = H + v0 * v0 / (2 * g)\r\n\r\n    let Q = mu * n * b * D * Math.sqrt(2 * g * (H0 - D))\r\n    return Q\r\n  }\r\n\r\n  /**\r\n   * 1.2泄槽水面线计算\r\n   * @param type 实用堰类型\r\n   * @param Qc 单个泄槽流量，m^3/s\r\n   * @param bc 单个泄槽宽，m\r\n   * @param nz 糙率\r\n   * @param i 泄槽底坡\r\n   * @param phi 流速系数，一般0.95 左右\r\n   * @param H0 计算起始断面渠底以上总水头\r\n   * @param N 断面数\r\n   * @param L 泄槽长\r\n   * @param alpha 掺气水深系数，取1～1.4s/m\r\n   */\r\n  export function slotSurfaceLine(type: syyType, Qc: number, bc: number, nz: number, i: number, phi: number, H0: number, N: number, L: number, alpha: number) {\r\n    let hk = Math.pow((Qc * Qc) / (bc * bc * g), 1 / 3)\r\n    let Rk = bc * hk / (bc + 2 * hk)\r\n    let Ck = 1 / nz * Math.pow(Rk, 1 / 6)\r\n    let ik = ((Qc * Qc) / (bc * bc)) / (hk * hk * Ck * Ck * Rk)\r\n    // let outStr = \"L断面水深：\";\r\n    let outArray: any = []\r\n\r\n    let h0 = 0\r\n    let learningRate = 0.01\r\n    let theta = Math.atan(i)\r\n    let precision = 0.001\r\n    if (i > ik) {\r\n      // 急流\r\n      if (type === syyType.syy) {\r\n        // 实用堰\r\n        // SGD\r\n\r\n        // identify h0\r\n        for (let t = 0; t < 10000; t++) {\r\n          let h0right = (Qc / bc / (phi * Math.sqrt(2 * g * (H0 - h0 * Math.cos(theta)))))\r\n          h0 -= learningRate * (h0 - h0right)\r\n\r\n          let chkValue = Math.abs(h0 - (Qc / bc / (phi * Math.sqrt(2 * g * (H0 - h0 * Math.cos(theta))))))\r\n          if (chkValue < precision) {\r\n            // success\r\n            break\r\n          }\r\n        }\r\n      } else if (type === syyType.kdy) {\r\n        // 宽顶堰\r\n        h0 = hk\r\n      }\r\n\r\n      // identify h0 - hn\r\n      let deltaL = L / (N - 1)\r\n      let outH = h0\r\n      // console.log(outH);\r\n      // outStr += outH.toFixed(3) + \"|\";\r\n      outArray.push(outH.toFixed(3))\r\n      for (let nn = 0; nn < N - 1; nn++) {\r\n        outH = ssflSGD(shapeType.RECTANGLE, 0, learningRate, outH, bc, Qc, nz, theta, i, alpha, deltaL, precision)\r\n        // outStr += outH.toFixed(3) + \"|\";\r\n        outArray.push(outH.toFixed(3))\r\n        // console.log(outH);\r\n      }\r\n    } else {\r\n      // 输出缓流\r\n      // outStr += \"缓流\";\r\n      // console.log('缓流')\r\n    }\r\n\r\n    // return outStr;\r\n    return outArray\r\n  }\r\n  /**\r\n   * 1.3水流空化数计算程序框图\r\n   * @param nabla\r\n   * @param H\r\n   * @param hv\r\n   * @param v\r\n   * @returns S\r\n   *  */\r\n  export function slkqhs(nabla: number, H: number, hv: number, v: number) {\r\n    let ha = 1.33 - nabla / 900\r\n    let sigma = (H + ha - hv) / (v * v / (2 * g))\r\n    let out = '不需要设掺气坎'\r\n    if (sigma < 0.3) {\r\n      out = '需要设掺气坎'\r\n    }\r\n\r\n    let outObj = { 'sigma': sigma, 'out': out }\r\n    // console.log(sigma);\r\n    return outObj\r\n  }\r\n\r\n  /**\r\n   * 1.4挑流消能挑距和冲坑计算\r\n   * 1.4.1 挑距\r\n   * @param Hksw\r\n   * @param Hbk\r\n   * @param v0\r\n   * @param h\r\n   * @param theta\r\n   * @param h2\r\n   * @param t\r\n   * @returns L\r\n   */\r\n  export function tj(Hksw: number, Hbk: number, v0: number,\r\n    h: number, theta: number, h2: number, t: number) {\r\n    theta = Math.PI * theta / 180\r\n    let H0 = (Hksw - Hbk) + v0 * v0 / 19.6\r\n    let h1 = h / Math.cos(theta)\r\n    // console.log(\"h1=\"+h1);\r\n    // console.log(\"H0=\"+(Hksw - Hbk));\r\n    let v1 = 0.95 * Math.sqrt(2 * g * (H0 - h1))\r\n    // console.log(\"v1=\"+v1);\r\n\r\n    let L = (Math.sin(theta) + Math.sqrt(Math.sin(theta) * Math.sin(theta) + 2 * g * (h1 + h2) / (v1 * v1))) * Math.cos(theta) * v1 * v1 / g\r\n\r\n    let tanbeta = Math.sqrt(Math.tan(theta) * Math.tan(theta) + 2 * g * (h2 + h * Math.cos(theta)) / (v1 * v1 * Math.cos(theta) * Math.cos(theta)))\r\n    let Lc = t / tanbeta\r\n    // console.log(Lc);\r\n    let Ltotal = L + Lc\r\n    return Ltotal\r\n  }\r\n\r\n  /**\r\n   * 1.4挑流消能挑距和冲坑计算\r\n   * 1.4.2 冲坑计算\r\n   * @param Hup\r\n   * @param Hdown\r\n   * @param K\r\n   * @param Q\r\n   * @param b\r\n   * @param Hdowndeep 下游水深\r\n   * @returns T\r\n  */\r\n  export function ckjs(Hup: number, Hdown: number, K: number,\r\n    Q: number, b: number, Hdowndeep: number) {\r\n    let H = Hup - Hdown\r\n    let t = K * Math.sqrt(Q / b) * Math.pow(H, 0.25)\r\n    let T = t - Hdowndeep\r\n    return T\r\n  }\r\n\r\n  /**\r\n   * 1.5底流消能计算\r\n   * 1.5.1 水平光滑护坦上的水跃计算\r\n   * @param Q\r\n   * @param b\r\n   * @param H0\r\n   * @returns\r\n  */\r\n  export function spghhtsdsyjs(Q: number, b: number, H0: number) {\r\n    // let phi = Math.sqrt(1- 0.1*Math.sqrt(E)/Math.pow((Q/b),1/3));\r\n    // console.log(phi);\r\n    let phi = 0.8\r\n\r\n    let h1 = 10\r\n    let learningRate = 0.01\r\n    let precision = 0.001\r\n    // identify h0\r\n    for (let t = 0; t < 10000; t++) {\r\n      let h1right = H0 - (Q / b) * (Q / b) / (2 * g * phi * phi * h1 * h1)\r\n      h1 -= learningRate * h1right\r\n\r\n      let chkValue = Math.abs(H0 - (Q / b) * (Q / b) / (2 * g * phi * phi * h1 * h1))\r\n      if (chkValue < precision) {\r\n        // success\r\n        break\r\n      }\r\n    }\r\n    // console.log(h1);\r\n    let v1 = Q / (b * h1)\r\n    let Fr1 = v1 / Math.sqrt(g * h1)\r\n    let h2 = 0.5 * h1 * (Math.sqrt(1 + 8 * Fr1 * Fr1) - 1)\r\n    // console.log(h2);\r\n    let L = 0\r\n    if (Fr1 >= 4.5 && Fr1 <= 15.5) {\r\n      // 5.9 ~ 6.15\r\n      L = 5.9 * h2\r\n    } else {\r\n      L = 9.4 * (Fr1 - 1) * h1\r\n    }\r\n    return L\r\n  }\r\n\r\n  /**\r\n   * 1.5底流消能计算\r\n   * 1.5.2 下挖式消力池水跃计算\r\n   * @param Q\r\n   * @param b\r\n   * @param H0\r\n   * @param phi\r\n   * @param ht\r\n   * @param sigma\r\n   * @returns\r\n  */\r\n  export function xwsxlcsyjs(Q: number, b: number, H0: number, phi: number,\r\n    ht: number, sigma: number) {\r\n    let h1 = 10\r\n    let learningRate = 0.01\r\n    let precision = 0.001\r\n    // identify h0\r\n    for (let t = 0; t < 10000; t++) {\r\n      let h1right = H0 - (Q / b) * (Q / b) / (2 * g * phi * phi * h1 * h1)\r\n      h1 -= learningRate * h1right\r\n\r\n      let chkValue = Math.abs(H0 - (Q / b) * (Q / b) / (2 * g * phi * phi * h1 * h1))\r\n      if (chkValue < precision) {\r\n        // success\r\n        break\r\n      }\r\n    }\r\n\r\n    let v1 = Q / (b * h1)\r\n    let Fr1 = v1 / Math.sqrt(g * h1)\r\n    let h2 = 0.5 * h1 * (Math.sqrt(1 + 8 * Fr1 * Fr1) - 1)\r\n    // console.log(h2);\r\n    let deltaZ = (Q * Q / (2 * g * b * b)) * ((1 / (phi * phi * ht * ht)) - (1 / (sigma * sigma * h2 * h2)))\r\n    // console.log(deltaZ);\r\n    let s = sigma * h2 - ht - deltaZ\r\n    // console.log(s);\r\n    let L = 5.9 * h2\r\n    let Lk = 0.8 * L\r\n    let outObj = { 'Lk': Lk, 's': s }\r\n    return outObj\r\n  }\r\n\r\n  /**\r\n   * 1.6 侧槽溢洪道水力学计算\r\n   * 1.6.1 侧槽断溢流前缘的总长度计算\r\n   * @param Q 溢洪道最大泄流流量，m3/s\r\n   * @param m 流量系数，根据堰型选用；可采用实用堰、宽顶堰河梯形堰等，实际工程以实用堰居多\r\n   * @param H 堰上水头，m，取堰前3H0 ~ 6H0处\r\n   * @param v0 引渠的行进流速，m/s\r\n   * @param eplisonk 侧槽溢流堰侧收缩系数，无闸实用堰，两边侧墙圆角到直角取0.7~1.0\r\n   *\r\n   */\r\n  export function cydylqydzcdjs(Q: number, m: number, H: number, v0: number, eplisonk: number) {\r\n    let H0 = H + v0 * v0 / (2 * g)\r\n    let L = Q / (eplisonk * m * Math.sqrt(2 * g) * Math.pow(H0, 3 / 2))\r\n    return L\r\n  }\r\n\r\n  /**\r\n   * 1.6 侧槽溢洪道水力学计算\r\n   * 1.6.2 侧槽断水面线计算\r\n   * @param Q 溢洪道最大泄流流量，m3/s\r\n   * @param m 流量系数，根据堰型选用；可采用实用堰、宽顶堰河梯形堰等，实际工程以实用堰居多\r\n   * @param H 堰上水头，m，取堰前3H0 ~ 6H0处\r\n   * @param v0 引渠的行进流速，m/s\r\n   * @param eplisonk 侧槽溢流堰侧收缩系数，无闸实用堰，两边侧墙圆角到直角取0.7~1.0\r\n   * @param bs\r\n   * @param bm\r\n   * @param N\r\n   * @param nz\r\n   * @param i\r\n   * @returns outArray\r\n   */\r\n  export function ccdsmxjs(Q: number, m: number, H: number, v0: number, eplisonk: number,\r\n    bs: number, bm: number, N: number, nz: number, i: number) {\r\n    let L = cydylqydzcdjs(Q, m, H, v0, eplisonk)\r\n    let hk = Math.pow(Q * Q / (bm * bm * g), 1 / 3)\r\n    let hm = hk * (1.2 - 0.3 * ((bs / bm) - 1))\r\n    // let outStr = \"侧槽内水面线水深：\";\r\n    let outArray: any = []\r\n    let n = 1\r\n    let bn = bs + (bm - bs) / L * (L - (n - 1) * L / (N - 1))\r\n    let vn = Q / (bn * hm)\r\n    let Rn = bn * hm / (bn + 2 * hm)\r\n\r\n    let Qn = Q\r\n    let deltaH = 0\r\n    let delta = i * L / (N - 1)\r\n\r\n    // outStr += hm.toFixed(4) + \"|\";\r\n    outArray.push(hm.toFixed(4))\r\n    for (let ii = 2; ii < N + 1; ii++) {\r\n      let res = ccssmSGD(nz, bs, bm, Q, L, N, ii, delta, hm, vn, Rn, Qn, deltaH)\r\n      hm = res[0]\r\n      if (hm !== -1) {\r\n        // outStr += hm.toFixed(4) + \"|\";\r\n        outArray.push(hm.toFixed(4))\r\n        deltaH = res[1]\r\n        vn = res[2]\r\n        Rn = res[3]\r\n        Qn = res[4]\r\n      }\r\n    }\r\n\r\n    return outArray\r\n  }\r\n}\r\n"],"sourceRoot":""}
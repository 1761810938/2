(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{4565:function(e,t,r){"use strict";var s=r("a88e"),i=r.n(s);i.a},"4b50":function(e,t,r){"use strict";var s=r("754d"),i=r.n(s);i.a},"5d6b":function(e,t,r){var s=r("e53d").parseInt,i=r("a1ce").trim,n=r("e692"),a=/^[-+]?0[xX]/;e.exports=8!==s(n+"08")||22!==s(n+"0x16")?function(e,t){var r=i(String(e),3);return s(r,t>>>0||(a.test(r)?16:10))}:s},7445:function(e,t,r){var s=r("63b6"),i=r("5d6b");s(s.G+s.F*(parseInt!=i),{parseInt:i})},"754d":function(e,t,r){},a1ce:function(e,t,r){var s=r("63b6"),i=r("25eb"),n=r("294c"),a=r("e692"),o="["+a+"]",d="​",m=RegExp("^"+o+o+"*"),h=RegExp(o+o+"*$"),u=function(e,t,r){var i={},o=n(function(){return!!a[e]()||d[e]()!=d}),m=i[e]=o?t(c):a[e];r&&(i[r]=m),s(s.P+s.F*o,"String",i)},c=u.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(m,"")),2&t&&(e=e.replace(h,"")),e};e.exports=u},a88e:function(e,t,r){},b9e9:function(e,t,r){r("7445"),e.exports=r("584a").parseInt},d5c2:function(e,t,r){"use strict";r.r(t);var s,i,n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register-container"},[r("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.registerRules,"auto-complete":"on","label-position":"left"}},[r("h3",{staticClass:"title"},[e._v("\n      注册账号\n    ")]),r("el-form-item",{attrs:{prop:"username"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{name:"user"}})],1),r("el-input",{attrs:{name:"username",type:"text","auto-complete":"on",placeholder:"请输入用户名"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),r("el-form-item",{attrs:{prop:"work"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{name:"form"}})],1),r("el-input",{attrs:{name:"work",type:"text","auto-complete":"on",placeholder:"请输入从事职业"},model:{value:e.registerForm.work,callback:function(t){e.$set(e.registerForm,"work",t)},expression:"registerForm.work"}})],1),r("el-form-item",{attrs:{prop:"level"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{name:"form"}})],1),r("el-input",{attrs:{name:"level",type:"text","auto-complete":"on",placeholder:"请输入您的职称"},model:{value:e.registerForm.level,callback:function(t){e.$set(e.registerForm,"level",t)},expression:"registerForm.level"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{name:"password"}})],1),r("el-input",{attrs:{type:e.pwdType,name:"password","auto-complete":"on",placeholder:"请输入密码"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),r("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("svg-icon",{attrs:{name:"password"===e.pwdType?"eye-off":"eye-on"}})],1)],1),r("el-form-item",{attrs:{prop:"confirm_password"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{name:"password"}})],1),r("el-input",{attrs:{type:e.pwdType,name:"confirm_password","auto-complete":"on",placeholder:"请再次输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.confirm_password,callback:function(t){e.$set(e.registerForm,"confirm_password",t)},expression:"registerForm.confirm_password"}}),r("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("svg-icon",{attrs:{name:"password"===e.pwdType?"eye-off":"eye-on"}})],1)],1),r("el-form-item",[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e._v("\n        注册\n      ")])],1),r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.loginPage(t)}}},[e._v("\n      返回\n    ")])],1)],1)},a=[],o=r("d225"),d=r("b0b4"),m=r("308d"),h=r("6bb5"),u=r("4e2b"),c=r("9ab4"),l=r("60a3"),f=function(){function e(t){Object(o["a"])(this,e),this._input=t,this.output=this.hexMD5(this.str2UTF8(this._input))}return Object(d["a"])(e,[{key:"safeAdd",value:function(e,t){var r=(65535&e)+(65535&t),s=(e>>16)+(t>>16)+(r>>16);return s<<16|65535&r}},{key:"bitRotateLeft",value:function(e,t){return e<<t|e>>>32-t}},{key:"md5cmn",value:function(e,t,r,s,i,n){return this.safeAdd(this.bitRotateLeft(this.safeAdd(this.safeAdd(t,e),this.safeAdd(s,n)),i),r)}},{key:"md5ff",value:function(e,t,r,s,i,n,a){return this.md5cmn(t&r|~t&s,e,t,i,n,a)}},{key:"md5gg",value:function(e,t,r,s,i,n,a){return this.md5cmn(t&s|r&~s,e,t,i,n,a)}},{key:"md5hh",value:function(e,t,r,s,i,n,a){return this.md5cmn(t^r^s,e,t,i,n,a)}},{key:"md5ii",value:function(e,t,r,s,i,n,a){return this.md5cmn(r^(t|~s),e,t,i,n,a)}},{key:"binlMD5",value:function(e,t){var r,s,i,n,a;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var o=1732584193,d=-271733879,m=-1732584194,h=271733878;for(r=0;r<e.length;r+=16)s=o,i=d,n=m,a=h,o=this.md5ff(o,d,m,h,e[r],7,-680876936),h=this.md5ff(h,o,d,m,e[r+1],12,-389564586),m=this.md5ff(m,h,o,d,e[r+2],17,606105819),d=this.md5ff(d,m,h,o,e[r+3],22,-1044525330),o=this.md5ff(o,d,m,h,e[r+4],7,-176418897),h=this.md5ff(h,o,d,m,e[r+5],12,1200080426),m=this.md5ff(m,h,o,d,e[r+6],17,-1473231341),d=this.md5ff(d,m,h,o,e[r+7],22,-45705983),o=this.md5ff(o,d,m,h,e[r+8],7,1770035416),h=this.md5ff(h,o,d,m,e[r+9],12,-1958414417),m=this.md5ff(m,h,o,d,e[r+10],17,-42063),d=this.md5ff(d,m,h,o,e[r+11],22,-1990404162),o=this.md5ff(o,d,m,h,e[r+12],7,1804603682),h=this.md5ff(h,o,d,m,e[r+13],12,-40341101),m=this.md5ff(m,h,o,d,e[r+14],17,-1502002290),d=this.md5ff(d,m,h,o,e[r+15],22,1236535329),o=this.md5gg(o,d,m,h,e[r+1],5,-165796510),h=this.md5gg(h,o,d,m,e[r+6],9,-1069501632),m=this.md5gg(m,h,o,d,e[r+11],14,643717713),d=this.md5gg(d,m,h,o,e[r],20,-373897302),o=this.md5gg(o,d,m,h,e[r+5],5,-701558691),h=this.md5gg(h,o,d,m,e[r+10],9,38016083),m=this.md5gg(m,h,o,d,e[r+15],14,-660478335),d=this.md5gg(d,m,h,o,e[r+4],20,-405537848),o=this.md5gg(o,d,m,h,e[r+9],5,568446438),h=this.md5gg(h,o,d,m,e[r+14],9,-1019803690),m=this.md5gg(m,h,o,d,e[r+3],14,-187363961),d=this.md5gg(d,m,h,o,e[r+8],20,1163531501),o=this.md5gg(o,d,m,h,e[r+13],5,-1444681467),h=this.md5gg(h,o,d,m,e[r+2],9,-51403784),m=this.md5gg(m,h,o,d,e[r+7],14,1735328473),d=this.md5gg(d,m,h,o,e[r+12],20,-1926607734),o=this.md5hh(o,d,m,h,e[r+5],4,-378558),h=this.md5hh(h,o,d,m,e[r+8],11,-2022574463),m=this.md5hh(m,h,o,d,e[r+11],16,1839030562),d=this.md5hh(d,m,h,o,e[r+14],23,-35309556),o=this.md5hh(o,d,m,h,e[r+1],4,-1530992060),h=this.md5hh(h,o,d,m,e[r+4],11,1272893353),m=this.md5hh(m,h,o,d,e[r+7],16,-155497632),d=this.md5hh(d,m,h,o,e[r+10],23,-1094730640),o=this.md5hh(o,d,m,h,e[r+13],4,681279174),h=this.md5hh(h,o,d,m,e[r],11,-358537222),m=this.md5hh(m,h,o,d,e[r+3],16,-722521979),d=this.md5hh(d,m,h,o,e[r+6],23,76029189),o=this.md5hh(o,d,m,h,e[r+9],4,-640364487),h=this.md5hh(h,o,d,m,e[r+12],11,-421815835),m=this.md5hh(m,h,o,d,e[r+15],16,530742520),d=this.md5hh(d,m,h,o,e[r+2],23,-995338651),o=this.md5ii(o,d,m,h,e[r],6,-198630844),h=this.md5ii(h,o,d,m,e[r+7],10,1126891415),m=this.md5ii(m,h,o,d,e[r+14],15,-1416354905),d=this.md5ii(d,m,h,o,e[r+5],21,-57434055),o=this.md5ii(o,d,m,h,e[r+12],6,1700485571),h=this.md5ii(h,o,d,m,e[r+3],10,-1894986606),m=this.md5ii(m,h,o,d,e[r+10],15,-1051523),d=this.md5ii(d,m,h,o,e[r+1],21,-2054922799),o=this.md5ii(o,d,m,h,e[r+8],6,1873313359),h=this.md5ii(h,o,d,m,e[r+15],10,-30611744),m=this.md5ii(m,h,o,d,e[r+6],15,-1560198380),d=this.md5ii(d,m,h,o,e[r+13],21,1309151649),o=this.md5ii(o,d,m,h,e[r+4],6,-145523070),h=this.md5ii(h,o,d,m,e[r+11],10,-1120210379),m=this.md5ii(m,h,o,d,e[r+2],15,718787259),d=this.md5ii(d,m,h,o,e[r+9],21,-343485551),o=this.safeAdd(o,s),d=this.safeAdd(d,i),m=this.safeAdd(m,n),h=this.safeAdd(h,a);return[o,d,m,h]}},{key:"str2UTF8",value:function(e){return unescape(encodeURIComponent(e))}},{key:"str2Binl",value:function(e){for(var t=new Array(e.length>>2),r=0;r<t.length;r+=1)t[r]=0;for(var s=8*e.length,i=0;i<s;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<i%32;return t}},{key:"binl2Str",value:function(e){for(var t="",r=32*e.length,s=0;s<r;s+=8)t+=String.fromCharCode(e[s>>5]>>>s%32&255);return t}},{key:"str2Hex",value:function(e){for(var t="0123456789abcdef",r="",s=0;s<e.length;s+=1){var i=e.charCodeAt(s);r+=t.charAt(i>>>4&15)+t.charAt(15&i)}return r}},{key:"strMD5",value:function(e){return this.binl2Str(this.binlMD5(this.str2Binl(e),8*e.length))}},{key:"hexMD5",value:function(e){return this.str2Hex(this.strMD5(e))}}]),e}(),g=r("e814"),p=r.n(g);(function(e){function t(e,t,r,s,i,n,a){for(var o=new Array(t*t*3),d=0;d<o.length;d++)o[d]=i;for(var m=0;m<e;m++)for(var h=0;h<e;h++)for(var u=0;u<r;u++)for(var c=0;c<r;c++)a[m*e+h]&&(o[3*((s+m*r+u)*t+(s+h*r+c))+0]=n[0],o[3*((s+m*r+u)*t+(s+h*r+c))+1]=n[1],o[3*((s+m*r+u)*t+(s+h*r+c))+2]=n[2]);return o}function r(e){for(var t="",r=0;r<3;r++)t+=e[25+r];for(var s=p()(t,16)/4095*360,i="",n=0;n<2;n++)i+=e[28+n];for(var a=65-p()(i,16)/255*20,o="",d=0;d<2;d++)o+=e[30+d];var m=75-p()(o,16)/255*20;return[s,a,m]}function s(e){var t=e[0],r=e[1],s=e[2],i=0,n=0;s<50?(i=2.55*(s+s*(r/100)),n=2.55*(s-s*(r/100))):s>=50&&(i=2.55*(s+r/100*(100-s)),n=2.55*(s-r/100*(100-s)));var a=0,o=0,d=0;return t>=0&&t<60?(a=i,d=t/60*(i-n)+n,o=n):t>=60&&t<120?(a=(120-t)/60*(i-n)+n,d=i,o=n):t>=120&&t<180?(a=n,d=i,o=(t-120)/60*(i-n)+n):t>=180&&t<240?(a=n,d=(240-t)/60*(i-n)+n,o=i):t>=240&&t<300?(a=(t-240)/60*(i-n)+n,d=n,o=i):t>=300&&t<=360&&(a=i,d=n,o=(360-t)/60*(i-n)+n),[a,d,o]}function i(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=t*t,i=Math.ceil(t/2),n=i*t,a=new Array(s),o=0;o<n;o++){var d=!(p()(e[o],16)%2),m=o%t,h=i-1+Math.floor(o/t),u=i-1-Math.floor(o/t);h!==u?(a[m*t+h]=d,a[m*t+u]=d):a[m*t+h]=d}if(r)for(var c=0;c<t;c++){for(var l="",f=0;f<t;f++){var g=a[c*t+f];l+=g+","}console.log(l)}return a}e.CreateIconImgBuf=t,e.MD5ToHSL=r,e.HSL2RGB=s,e.MD5ToPattern=i})(s||(s={})),function(e){function t(e,t,r,i,n,a){var o=new f(e),d=o.output,m=s.MD5ToPattern(d,t),h=s.MD5ToHSL(d),u=s.HSL2RGB(h),c=s.CreateIconImgBuf(t,r,i,n,a,u,m);return c}function r(e,t,r){for(var s=e.getImageData(0,0,r,r),i=0;i<r;i++)for(var n=0;n<r;n++){var a=4*(i*r+n);s.data[a+0]=t[3*(i*r+n)+0],s.data[a+1]=t[3*(i*r+n)+1],s.data[a+2]=t[3*(i*r+n)+2],s.data[a+3]=255}e.putImageData(s,0,0)}e.Generate=t,e.Write2Canvas=r}(i||(i={}));var v=r("0631"),w=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(m["a"])(this,Object(h["a"])(t).apply(this,arguments)),e.registerForm={username:"",password:"",confirm_password:"",work:"",level:""},e.validateUsername=function(e,t,r){t.length<5?r(new Error("用户名不能小于5位")):r()},e.validatePass=function(e,t,r){t.length<5?r(new Error("密码不能小于5位")):r()},e.validateConfirmPass=function(t,r,s){r!=e.registerForm.password?s(new Error("与输入密码不一致")):s()},e.registerRules={username:[{required:!0,trigger:"blur",validator:e.validateUsername}],password:[{required:!0,trigger:"blur",validator:e.validatePass}],confirm_password:[{required:!0,trigger:"blur",validator:e.validateConfirmPass}]},e.loading=!1,e.redirect=void 0,e.pwdType="password",e}return Object(u["a"])(t,e),Object(d["a"])(t,[{key:"showPwd",value:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"}},{key:"OnRouteChange",value:function(e){this.redirect=e.query&&e.query.redirect}},{key:"loginPage",value:function(){this.$router.push({path:"/login"})}},{key:"handleUserIcon",value:function(e){var t=420,r=70,s=35,n=5,a=240,o=document.createElement("canvas");o.height=t,o.width=t;var d=o.getContext("2d"),m=i.Generate(e,n,t,r,s,a);i.Write2Canvas(d,m,t);var h=o.toDataURL("image/png");return h}},{key:"handleCopyUsrInfo",value:function(){var e=this.handleUserIcon(this.registerForm.username),t=v.Object.extend("UsrInfo"),r=new t;r.save({username:this.registerForm.username,password:this.registerForm.password,job:this.registerForm.work,title:this.registerForm.level,usericon:e}).then(function(e){}).catch(function(){})}},{key:"handleRegister",value:function(){var e=this;this.$refs.registerForm.validate(function(t){t&&(e.loading=!0,v.User.signUp(e.registerForm.username,e.registerForm.password,{job:e.registerForm.work,title:e.registerForm.level,auth:"D"}).then(function(t){e.loading=!1,e.handleCopyUsrInfo(),e.$message("创建用户成功!"),e.registerForm.username=e.registerForm.password=e.registerForm.level=e.registerForm.work=e.registerForm.confirm_password=""}).catch(function(){e.loading=!1,e.$message("创建用户失败!")}))})}}]),t}(l["c"]);c["a"]([Object(l["d"])("$route",{immediate:!0})],w.prototype,"OnRouteChange",null),w=c["a"]([l["a"]],w);var y=w,b=y,k=(r("4565"),r("4b50"),r("0c7c")),F=Object(k["a"])(b,n,a,!1,null,"00321e1c",null);t["default"]=F.exports},e692:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(e,t,r){e.exports=r("b9e9")}}]);
//# sourceMappingURL=register.71604521.js.map
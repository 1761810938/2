(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{"0301":function(t,e,r){},4565:function(t,e,r){"use strict";var s=r("b195"),i=r.n(s);i.a},6915:function(t,e,r){"use strict";var s=r("0301"),i=r.n(s);i.a},b195:function(t,e,r){},d5c2:function(t,e,r){"use strict";r.r(e);var s,i,a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"register-container"},[r("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:t.registerForm,rules:t.registerRules,"auto-complete":"on","label-position":"left"}},[r("h3",{staticClass:"title"},[t._v("\n      注册账号\n    ")]),r("el-form-item",{attrs:{prop:"username"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{name:"user"}})],1),r("el-input",{attrs:{name:"username",type:"text","auto-complete":"on",placeholder:"请输入用户名"},model:{value:t.registerForm.username,callback:function(e){t.$set(t.registerForm,"username",e)},expression:"registerForm.username"}})],1),r("el-form-item",{attrs:{prop:"work"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{name:"form"}})],1),r("el-input",{attrs:{name:"work",type:"text","auto-complete":"on",placeholder:"请输入从事职业"},model:{value:t.registerForm.work,callback:function(e){t.$set(t.registerForm,"work",e)},expression:"registerForm.work"}})],1),r("el-form-item",{attrs:{prop:"level"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{name:"form"}})],1),r("el-input",{attrs:{name:"level",type:"text","auto-complete":"on",placeholder:"请输入您的职称"},model:{value:t.registerForm.level,callback:function(e){t.$set(t.registerForm,"level",e)},expression:"registerForm.level"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{name:"password"}})],1),r("el-input",{attrs:{type:t.pwdType,name:"password","auto-complete":"on",placeholder:"请输入密码"},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password",e)},expression:"registerForm.password"}}),r("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[r("svg-icon",{attrs:{name:"password"===t.pwdType?"eye-off":"eye-on"}})],1)],1),r("el-form-item",{attrs:{prop:"confirm_password"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{name:"password"}})],1),r("el-input",{attrs:{type:t.pwdType,name:"confirm_password","auto-complete":"on",placeholder:"请再次输入密码"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleRegister(e)}},model:{value:t.registerForm.confirm_password,callback:function(e){t.$set(t.registerForm,"confirm_password",e)},expression:"registerForm.confirm_password"}}),r("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[r("svg-icon",{attrs:{name:"password"===t.pwdType?"eye-off":"eye-on"}})],1)],1),r("el-form-item",[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleRegister(e)}}},[t._v("\n        注册\n      ")])],1),r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.loginPage(e)}}},[t._v("\n      返回\n    ")])],1)],1)},n=[],o=(r("6b54"),r("2397"),r("d4ec")),c=r("bee2"),d=r("257e"),h=r("262e"),u=r("99de"),m=r("7e84"),l=r("ade3"),f=r("9ab4"),g=r("60a3"),p=function(){function t(e){Object(o["a"])(this,t),Object(l["a"])(this,"_input",void 0),Object(l["a"])(this,"output",void 0),this._input=e,this.output=this.hexMD5(this.str2UTF8(this._input))}return Object(c["a"])(t,[{key:"safeAdd",value:function(t,e){var r=(65535&t)+(65535&e),s=(t>>16)+(e>>16)+(r>>16);return s<<16|65535&r}},{key:"bitRotateLeft",value:function(t,e){return t<<e|t>>>32-e}},{key:"md5cmn",value:function(t,e,r,s,i,a){return this.safeAdd(this.bitRotateLeft(this.safeAdd(this.safeAdd(e,t),this.safeAdd(s,a)),i),r)}},{key:"md5ff",value:function(t,e,r,s,i,a,n){return this.md5cmn(e&r|~e&s,t,e,i,a,n)}},{key:"md5gg",value:function(t,e,r,s,i,a,n){return this.md5cmn(e&s|r&~s,t,e,i,a,n)}},{key:"md5hh",value:function(t,e,r,s,i,a,n){return this.md5cmn(e^r^s,t,e,i,a,n)}},{key:"md5ii",value:function(t,e,r,s,i,a,n){return this.md5cmn(r^(e|~s),t,e,i,a,n)}},{key:"binlMD5",value:function(t,e){var r,s,i,a,n;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var o=1732584193,c=-271733879,d=-1732584194,h=271733878;for(r=0;r<t.length;r+=16)s=o,i=c,a=d,n=h,o=this.md5ff(o,c,d,h,t[r],7,-680876936),h=this.md5ff(h,o,c,d,t[r+1],12,-389564586),d=this.md5ff(d,h,o,c,t[r+2],17,606105819),c=this.md5ff(c,d,h,o,t[r+3],22,-1044525330),o=this.md5ff(o,c,d,h,t[r+4],7,-176418897),h=this.md5ff(h,o,c,d,t[r+5],12,1200080426),d=this.md5ff(d,h,o,c,t[r+6],17,-1473231341),c=this.md5ff(c,d,h,o,t[r+7],22,-45705983),o=this.md5ff(o,c,d,h,t[r+8],7,1770035416),h=this.md5ff(h,o,c,d,t[r+9],12,-1958414417),d=this.md5ff(d,h,o,c,t[r+10],17,-42063),c=this.md5ff(c,d,h,o,t[r+11],22,-1990404162),o=this.md5ff(o,c,d,h,t[r+12],7,1804603682),h=this.md5ff(h,o,c,d,t[r+13],12,-40341101),d=this.md5ff(d,h,o,c,t[r+14],17,-1502002290),c=this.md5ff(c,d,h,o,t[r+15],22,1236535329),o=this.md5gg(o,c,d,h,t[r+1],5,-165796510),h=this.md5gg(h,o,c,d,t[r+6],9,-1069501632),d=this.md5gg(d,h,o,c,t[r+11],14,643717713),c=this.md5gg(c,d,h,o,t[r],20,-373897302),o=this.md5gg(o,c,d,h,t[r+5],5,-701558691),h=this.md5gg(h,o,c,d,t[r+10],9,38016083),d=this.md5gg(d,h,o,c,t[r+15],14,-660478335),c=this.md5gg(c,d,h,o,t[r+4],20,-405537848),o=this.md5gg(o,c,d,h,t[r+9],5,568446438),h=this.md5gg(h,o,c,d,t[r+14],9,-1019803690),d=this.md5gg(d,h,o,c,t[r+3],14,-187363961),c=this.md5gg(c,d,h,o,t[r+8],20,1163531501),o=this.md5gg(o,c,d,h,t[r+13],5,-1444681467),h=this.md5gg(h,o,c,d,t[r+2],9,-51403784),d=this.md5gg(d,h,o,c,t[r+7],14,1735328473),c=this.md5gg(c,d,h,o,t[r+12],20,-1926607734),o=this.md5hh(o,c,d,h,t[r+5],4,-378558),h=this.md5hh(h,o,c,d,t[r+8],11,-2022574463),d=this.md5hh(d,h,o,c,t[r+11],16,1839030562),c=this.md5hh(c,d,h,o,t[r+14],23,-35309556),o=this.md5hh(o,c,d,h,t[r+1],4,-1530992060),h=this.md5hh(h,o,c,d,t[r+4],11,1272893353),d=this.md5hh(d,h,o,c,t[r+7],16,-155497632),c=this.md5hh(c,d,h,o,t[r+10],23,-1094730640),o=this.md5hh(o,c,d,h,t[r+13],4,681279174),h=this.md5hh(h,o,c,d,t[r],11,-358537222),d=this.md5hh(d,h,o,c,t[r+3],16,-722521979),c=this.md5hh(c,d,h,o,t[r+6],23,76029189),o=this.md5hh(o,c,d,h,t[r+9],4,-640364487),h=this.md5hh(h,o,c,d,t[r+12],11,-421815835),d=this.md5hh(d,h,o,c,t[r+15],16,530742520),c=this.md5hh(c,d,h,o,t[r+2],23,-995338651),o=this.md5ii(o,c,d,h,t[r],6,-198630844),h=this.md5ii(h,o,c,d,t[r+7],10,1126891415),d=this.md5ii(d,h,o,c,t[r+14],15,-1416354905),c=this.md5ii(c,d,h,o,t[r+5],21,-57434055),o=this.md5ii(o,c,d,h,t[r+12],6,1700485571),h=this.md5ii(h,o,c,d,t[r+3],10,-1894986606),d=this.md5ii(d,h,o,c,t[r+10],15,-1051523),c=this.md5ii(c,d,h,o,t[r+1],21,-2054922799),o=this.md5ii(o,c,d,h,t[r+8],6,1873313359),h=this.md5ii(h,o,c,d,t[r+15],10,-30611744),d=this.md5ii(d,h,o,c,t[r+6],15,-1560198380),c=this.md5ii(c,d,h,o,t[r+13],21,1309151649),o=this.md5ii(o,c,d,h,t[r+4],6,-145523070),h=this.md5ii(h,o,c,d,t[r+11],10,-1120210379),d=this.md5ii(d,h,o,c,t[r+2],15,718787259),c=this.md5ii(c,d,h,o,t[r+9],21,-343485551),o=this.safeAdd(o,s),c=this.safeAdd(c,i),d=this.safeAdd(d,a),h=this.safeAdd(h,n);return[o,c,d,h]}},{key:"str2UTF8",value:function(t){return unescape(encodeURIComponent(t))}},{key:"str2Binl",value:function(t){for(var e=new Array(t.length>>2),r=0;r<e.length;r+=1)e[r]=0;for(var s=8*t.length,i=0;i<s;i+=8)e[i>>5]|=(255&t.charCodeAt(i/8))<<i%32;return e}},{key:"binl2Str",value:function(t){for(var e="",r=32*t.length,s=0;s<r;s+=8)e+=String.fromCharCode(t[s>>5]>>>s%32&255);return e}},{key:"str2Hex",value:function(t){for(var e="0123456789abcdef",r="",s=0;s<t.length;s+=1){var i=t.charCodeAt(s);r+=e.charAt(i>>>4&15)+e.charAt(15&i)}return r}},{key:"strMD5",value:function(t){return this.binl2Str(this.binlMD5(this.str2Binl(t),8*t.length))}},{key:"hexMD5",value:function(t){return this.str2Hex(this.strMD5(t))}}]),t}();function v(t){var e=w();return function(){var r,s=Object(m["a"])(t);if(e){var i=Object(m["a"])(this).constructor;r=Reflect.construct(s,arguments,i)}else r=s.apply(this,arguments);return Object(u["a"])(this,r)}}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(function(t){function e(t,e,r,s,i,a,n){for(var o=new Array(e*e*3),c=0;c<o.length;c++)o[c]=i;for(var d=0;d<t;d++)for(var h=0;h<t;h++)for(var u=0;u<r;u++)for(var m=0;m<r;m++)n[d*t+h]&&(o[3*((s+d*r+u)*e+(s+h*r+m))+0]=a[0],o[3*((s+d*r+u)*e+(s+h*r+m))+1]=a[1],o[3*((s+d*r+u)*e+(s+h*r+m))+2]=a[2]);return o}function r(t){for(var e="",r=0;r<3;r++)e+=t[25+r];for(var s=parseInt(e,16)/4095*360,i="",a=0;a<2;a++)i+=t[28+a];for(var n=65-parseInt(i,16)/255*20,o="",c=0;c<2;c++)o+=t[30+c];var d=75-parseInt(o,16)/255*20;return[s,n,d]}function s(t){var e=t[0],r=t[1],s=t[2],i=0,a=0;s<50?(i=2.55*(s+s*(r/100)),a=2.55*(s-s*(r/100))):s>=50&&(i=2.55*(s+r/100*(100-s)),a=2.55*(s-r/100*(100-s)));var n=0,o=0,c=0;return e>=0&&e<60?(n=i,c=e/60*(i-a)+a,o=a):e>=60&&e<120?(n=(120-e)/60*(i-a)+a,c=i,o=a):e>=120&&e<180?(n=a,c=i,o=(e-120)/60*(i-a)+a):e>=180&&e<240?(n=a,c=(240-e)/60*(i-a)+a,o=i):e>=240&&e<300?(n=(e-240)/60*(i-a)+a,c=a,o=i):e>=300&&e<=360&&(n=i,c=a,o=(360-e)/60*(i-a)+a),[n,c,o]}function i(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e*e,i=Math.ceil(e/2),a=i*e,n=new Array(s),o=0;o<a;o++){var c=!(parseInt(t[o],16)%2),d=o%e,h=i-1+Math.floor(o/e),u=i-1-Math.floor(o/e);h!==u?(n[d*e+h]=c,n[d*e+u]=c):n[d*e+h]=c}if(r)for(var m=0;m<e;m++){for(var l="",f=0;f<e;f++){var g=n[m*e+f];l+=g+","}console.log(l)}return n}t.CreateIconImgBuf=e,t.MD5ToHSL=r,t.HSL2RGB=s,t.MD5ToPattern=i})(s||(s={})),function(t){function e(t,e,r,i,a,n){var o=new p(t),c=o.output,d=s.MD5ToPattern(c,e),h=s.MD5ToHSL(c),u=s.HSL2RGB(h),m=s.CreateIconImgBuf(e,r,i,a,n,u,d);return m}function r(t,e,r){for(var s=t.getImageData(0,0,r,r),i=0;i<r;i++)for(var a=0;a<r;a++){var n=4*(i*r+a);s.data[n+0]=e[3*(i*r+a)+0],s.data[n+1]=e[3*(i*r+a)+1],s.data[n+2]=e[3*(i*r+a)+2],s.data[n+3]=255}t.putImageData(s,0,0)}t.Generate=e,t.Write2Canvas=r}(i||(i={}));var y=r("0631"),b=function(t){Object(h["a"])(r,t);var e=v(r);function r(){var t;Object(o["a"])(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),Object(l["a"])(Object(d["a"])(t),"registerForm",{username:"",password:"",confirm_password:"",work:"",level:""}),Object(l["a"])(Object(d["a"])(t),"validateUsername",(function(t,e,r){e.length<5?r(new Error("用户名不能小于5位")):r()})),Object(l["a"])(Object(d["a"])(t),"validatePass",(function(t,e,r){e.length<5?r(new Error("密码不能小于5位")):r()})),Object(l["a"])(Object(d["a"])(t),"validateConfirmPass",(function(e,r,s){r!==t.registerForm.password?s(new Error("与输入密码不一致")):s()})),Object(l["a"])(Object(d["a"])(t),"registerRules",{username:[{required:!0,trigger:"blur",validator:t.validateUsername}],password:[{required:!0,trigger:"blur",validator:t.validatePass}],confirm_password:[{required:!0,trigger:"blur",validator:t.validateConfirmPass}]}),Object(l["a"])(Object(d["a"])(t),"loading",!1),Object(l["a"])(Object(d["a"])(t),"redirect",void 0),Object(l["a"])(Object(d["a"])(t),"pwdType","password"),t}return Object(c["a"])(r,[{key:"showPwd",value:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"}},{key:"OnRouteChange",value:function(t){this.redirect=t.query&&t.query.redirect}},{key:"loginPage",value:function(){this.$router.push({path:"/login"})}},{key:"handleUserIcon",value:function(t){var e=420,r=70,s=35,a=5,n=240,o=document.createElement("canvas");o.height=e,o.width=e;var c=o.getContext("2d"),d=i.Generate(t,a,e,r,s,n);i.Write2Canvas(c,d,e);var h=o.toDataURL("image/png");return h}},{key:"handleCopyUsrInfo",value:function(){var t=this.handleUserIcon(this.registerForm.username),e=y.Object.extend("UsrInfo"),r=new e;r.save({username:this.registerForm.username,password:this.registerForm.password,job:this.registerForm.work,title:this.registerForm.level,usericon:t}).then((function(t){})).catch((function(){}))}},{key:"handleRegister",value:function(){var t=this;this.$refs.registerForm.validate((function(e){e&&(t.loading=!0,y.User.signUp(t.registerForm.username,t.registerForm.password,{job:t.registerForm.work,title:t.registerForm.level,auth:"D"}).then((function(e){t.loading=!1,t.handleCopyUsrInfo(),t.$message("创建用户成功!"),t.registerForm.username=t.registerForm.password=t.registerForm.level=t.registerForm.work=t.registerForm.confirm_password=""})).catch((function(){t.loading=!1,t.$message("创建用户失败!")})))}))}}]),r}(g["c"]);Object(f["a"])([Object(g["d"])("$route",{immediate:!0})],b.prototype,"OnRouteChange",null),b=Object(f["a"])([g["a"]],b);var k=b,O=k,F=(r("4565"),r("6915"),r("2877")),j=Object(F["a"])(O,a,n,!1,null,"ac1b52d6",null);e["default"]=j.exports}}]);
//# sourceMappingURL=register.65c28972.js.map
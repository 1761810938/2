{"version":3,"sources":["webpack:///./src/views/section4/4.3/4.3.3/4.3.3.1/index.vue?56be","webpack:///./src/views/section4/4.3/4.3.3/4.3.3.1/index.vue?49e7","webpack:///./src/views/section4/4.3/4.3.3/4.3.3.1/index.vue?c871","webpack:///./src/views/section4/4.3/4.3.3/4.3.3.1/index.vue","webpack:///./src/hycom_lib/chapter2.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","title","data","initData","demoContent","demoResult","formulas","on","beforeOnCalculate","staticRenderFns","Q_c","b_c","n_z","i_1","i_2","e","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","value","sgysdsmxjs","value1","sgysdsmxjs2","outStr","toFixed","toString","template","$refs","form","result","components","HycomForm","component","Chapter2","sgyysdlljs","miu","a","b","T0","Hp","Q","Math","sqrt","Qc","bc","bc1","nz","i","eplison","deltaL","hk","pow","Rk","Ck","ik","h0","theta","atan","lastR","lastv","h","learningRate","precision","ii","R","v","averv","averR","J","rightValue","chkValue","abs","h1","csff263","l","q","dc","dchSSL","dch","dchHYL","alpha","kStar","cos","FStar","sin","L1","d1","L2","ce","x","thx","exp","fe","d0","v0","njslkxy263","Hyan","H","L1DivH","dcDivH","d0DivH","eta","L2DivH","E"],"mappings":"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","file":"js/4.3.3.1.fe67d1ed.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('hycom-form',{ref:\"template\",attrs:{\"title\":_vm.title,\"data\":_vm.data,\"init-data\":_vm.initData,\"demo-content\":_vm.demoContent,\"demo-result\":_vm.demoResult,\"formulas\":_vm.formulas},on:{\"beforeOnCalculate\":_vm.beforeOnCalculate}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport { Chapter2 } from '@/hycom_lib/chapter2'\r\n\r\nimport HycomForm from '@/components/HycomForm/index.vue'\r\n\r\n@Component({\r\n  components: {\r\n    HycomForm\r\n  }\r\n})\r\nexport default class Chapter4Section331 extends Vue {\r\n  private title = '4.3.3.1 明流洞内水面线';\r\n  private initData = {\r\n    Q_c: 2310,\r\n    b_c: 10,\r\n    'b_{c}^{\\\\prime}': 8,\r\n    n_z: 0.014,\r\n    i_1: 0.14,\r\n    i_2: 0.004692,\r\n    e: 11,\r\n    '\\\\varepsilon': 0.914,\r\n    '\\\\Delta_{L1}': 206.39,\r\n    '\\\\Delta_{L2}': 442.937\r\n  };\r\n  private data = {\r\n    Q_c: '',\r\n    b_c: '',\r\n    'b_{c}^{\\\\prime}': '',\r\n    n_z: '',\r\n    i_1: '',\r\n    i_2: '',\r\n    e: '',\r\n    '\\\\varepsilon': '',\r\n    '\\\\Delta_{L1}': '',\r\n    '\\\\Delta_{L2}': ''\r\n  };\r\n\r\n  private formulas = {\r\n    0: '$$Q_c :单个泄槽流量,m^3/s$$',\r\n    1: '$$n_z :糙率$$',\r\n    2: '$$b_c,b_{c}^{\\\\prime} :单个泄槽宽,m$$',\r\n    3: '$$\\\\phi :流速系数,一般0.95 左右$$',\r\n    4: '$$H_0 :计算起始断面渠底以上总水头$$',\r\n    5: '$$L :泄槽长,m$$',\r\n    6: '$$\\\\Delta_{L1},\\\\Delta_{L2} :分段长度,m$$',\r\n    7: '$$h_1 :分段起始断面水深,m$$',\r\n    8: '$$h_2 :分段末断面水深,m$$',\r\n    9: '$$v_1 :分段起始断面流速,m/s$$',\r\n    10: '$$v_2 :分段末断面流速,m/s$$',\r\n    11: '$$\\\\alpha_1,\\\\alpha_2 :流速分布不均匀系数,取1.05$$',\r\n    12: '$$\\\\theta :泄槽底坡角度$$',\r\n    13: '$$i_1,i_2 :泄槽底坡$$',\r\n    14: '$$J :分段内的摩阻坡率$$',\r\n    15: '$$v :分段平均流速$$',\r\n    16: '$$R :分段平均水力半径$$',\r\n    17: '$$h_c :起始断面水深为闸孔后的收缩水深$$',\r\n    18: '$$\\\\zeta :掺气水深系数,取1~1.4s/m$$',\r\n    19: '$$N :计算断面个数$$',\r\n    20: '$$e :出口断面开启高度,m$$',\r\n    21: '$$\\\\varepsilon :垂直收缩系数$$'\r\n  };\r\n\r\n  private demoContent =\r\n    '国内某水电站,水库校核水位1860.4m,正常蓄水位1856m,汛限水位1854m,中孔泄洪洞进水口为有压短管,有压短管出口高程1804m,后接\"龙抬头\"无压泄洪洞,隧洞为城门洞型,隧洞断面尺寸为10m x 15m,底坡为0.14,洞长206.39m,反弧末段高程1778.007m,反弧段后底坡为0.00472、洞长442.937m.进水口底板高程1804m,工作闸门尺寸8m x 11m,流量系数mu＝0.871,垂直收缩系数epsilon＝0.914,混凝土衬砌糙率0.014,求校核洪水时中孔泄洪洞沿程水面线(净水深、掺气水深、空化数、隧洞净孔断面).';\r\n  private demoResult = '求得第一断面h_1为6.51.第二断面h_2为7.92.';\r\n\r\n  public beforeOnCalculate() {\r\n    let value = Chapter2.sgysdsmxjs(\r\n      +this.data.Q_c,\r\n      +this.data.b_c,\r\n      +this.data['b_{c}^{\\\\prime}'],\r\n      +this.data.n_z,\r\n      +this.data.i_1,\r\n      +this.data.e,\r\n      +this.data['\\\\varepsilon'],\r\n      +this.data['\\\\Delta_{L1}']\r\n    )\r\n    let value1 = Chapter2.sgysdsmxjs2(\r\n      +this.data.Q_c,\r\n      +this.data.b_c,\r\n      +this.data.n_z,\r\n      +this.data.i_2,\r\n      value,\r\n      +this.data['\\\\Delta_{L2}']\r\n    )\r\n\r\n    let outStr =\r\n      'h1:' +\r\n      value.toFixed(2).toString() +\r\n      '|' +\r\n      'h2:' +\r\n      value1.toFixed(2).toString()\r\n    let template = this.$refs.template as any\r\n    template.form.result = outStr\r\n  }\r\n}\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=d8ff6bac&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Author: Xu.WANG raymondmgwx@gmail.com\r\n * @Date: 2022-03-11 21:19:00\r\n * @LastEditors: Xu.WANG raymondmgwx@gmail.com\r\n * @LastEditTime: 2022-06-12 15:04:10\r\n * @FilePath: \\hycom_app\\src\\hycom_lib\\chapter2.ts\r\n * @Description:\r\n * Copyright (c) 2022 by Xu.WANG raymondmgwx@gmail.com, All Rights Reserved.\r\n */\r\n/* eslint-disable */\r\nimport { g, eqfm } from './common'\r\n/**\r\n * Chapter2 水工隧洞水力学计算\r\n * 部分计算参考以下网址\r\n * https://raymondmcguire.github.io/?e=HYCAL&&theme=Image-Visual-Lab\r\n */\r\nexport module Chapter2 {\r\n\r\n  /**\r\n   * 2.1水工有压隧洞的水力学计算\r\n   * 2.1.1水工有压隧洞流量的计算\r\n   * @param miu 流量系数\r\n   * @param a 出口断面洞高,m\r\n   * @param b\r\n   * @param T0 上游水面与隧洞出口底板高程差及上游行进流量水头之和\r\n   * @param Hp 隧洞出口断面水流的平均单位势能\r\n   * @returns Q\r\n   */\r\n  export function sgyysdlljs(miu: number, a: number, b: number, T0: number, Hp: number) {\r\n    let Q = miu * a * b * Math.sqrt(2 * g * (T0 - Hp))\r\n    return Q\r\n  }\r\n\r\n\r\n  /**\r\n   * 2.2水面线计算\r\n   * @param Qc\r\n   * @param bc\r\n   * @param bc1\r\n   * @param nz\r\n   * @param i\r\n   * @param e\r\n   * @param eplison\r\n   * @param deltaL\r\n   * @returns Q\r\n   */\r\n  export function sgysdsmxjs(Qc: number, bc: number, bc1: number, nz: number, i: number, e: number, eplison: number, deltaL: number) {\r\n    let hk = Math.pow((Qc * Qc) / (bc * bc * g), 1 / 3)\r\n    let Rk = bc * hk / (bc + 2 * hk)\r\n    let Ck = 1 / nz * Math.pow(Rk, 1 / 6)\r\n    let ik = ((Qc * Qc) / (bc * bc)) / (hk * hk * Ck * Ck * Rk)\r\n\r\n    let h0 = e * eplison\r\n    let theta = Math.atan(i)\r\n    let lastR = (bc1 * h0) / (bc1 + 2 * h0)\r\n    let lastv = Qc / (bc1 * h0)\r\n    // console.log(h0);\r\n    let h = h0\r\n    let learningRate = 0.001\r\n    let precision = 0.001\r\n    if (i > ik) {\r\n      // 急流\r\n      for (let ii = 0; ii < 10000; ii++) {\r\n        let R = (bc * h) / (bc + 2 * h)\r\n        let v = Qc / (bc * h)\r\n        let averv = (lastv + v) / 2\r\n        let averR = (lastR + R) / 2\r\n        let J = nz * nz * averv * averv / Math.pow(averR, 4 / 3)\r\n        let rightValue = deltaL - ((eqfm(h, theta, 1, Qc, bc) - eqfm(h0, theta, 1, Qc, 8)) / (i - J))\r\n\r\n        // console.log(h);\r\n        let chkValue = Math.abs(rightValue)\r\n        if (chkValue < precision) {\r\n          // success\r\n          // console.log(h);\r\n          // console.log(eqfm(h0, theta, 1, Qc, 8));\r\n          return h\r\n        }\r\n\r\n        h -= learningRate * rightValue\r\n      }\r\n\r\n      return -1\r\n    } else {\r\n      // 缓流\r\n      return -1\r\n    }\r\n  }\r\n\r\n  export function sgysdsmxjs2(Qc: number, bc: number, nz: number, i: number, h1: number, deltaL: number) {\r\n    let theta = Math.atan(i)\r\n    let lastR = (bc * h1) / (bc + 2 * h1)\r\n    let lastv = Qc / (bc * h1)\r\n    // console.log(lastR,lastv);\r\n    let h = h1\r\n    let learningRate = 0.001\r\n    let precision = 0.001\r\n\r\n    for (let ii = 0; ii < 10000; ii++) {\r\n      let R = (bc * h) / (bc + 2 * h)\r\n      let v = Qc / (bc * h)\r\n      let averv = (lastv + v) / 2\r\n      let averR = (lastR + R) / 2\r\n      let J = nz * nz * averv * averv / Math.pow(averR, 4 / 3)\r\n      let rightValue = deltaL - ((eqfm(h, theta, 1, Qc, bc) - eqfm(h1, theta, 1, Qc, bc)) / (i - J))\r\n\r\n      // console.log(h);\r\n      let chkValue = Math.abs(rightValue)\r\n      if (chkValue < precision) {\r\n        // success\r\n        // console.log(h);\r\n        // console.log(eqfm(h0, theta, 1, Qc, 8));\r\n        return h\r\n      }\r\n\r\n      h += learningRate * rightValue\r\n    }\r\n\r\n    return -1\r\n  }\r\n\r\n\r\n\r\n  export function csff263(Q: number, b: number, h: number, l: number, i: number) {\r\n    let q = Q / b\r\n    let dc = Math.pow(q * q / g, 1 / 3)\r\n\r\n    let dchSSL = 0.0916 * Math.pow((h / l), -1.276)\r\n    let dch = dc / h\r\n\r\n    // console.log(dc, q, dchSSL, dch)\r\n\r\n    if (dch > dchSSL) {\r\n      let dchHYL = 1.057 - 0.46 * (h / l)\r\n      if (dch > dchHYL) {\r\n        let alpha = Math.atan(i)\r\n        let kStar = h * Math.cos(alpha)\r\n        let FStar = q / Math.sqrt(g * kStar * kStar * kStar * Math.sin(alpha))\r\n        let L1 = kStar * 9.719 * Math.pow(Math.sin(alpha), 0.0796) * Math.pow(FStar, 0.713)\r\n        let d1 = kStar * 0.4034 / Math.pow(Math.sin(alpha), 0.04) * Math.pow(FStar, 0.592)\r\n        let v = q / d1\r\n        let L2 = 8.6 * Math.pow(q, 0.713) / (Math.pow(kStar, 0.0695) * Math.pow(Math.sin(alpha), 0.277))\r\n        let ce = 0.9 * Math.sin(alpha)\r\n        let x = 0.628 * (0.514 - ce) / (ce - (1 - ce))\r\n        let thx = (Math.exp(x) - Math.exp(-x)) / (Math.exp(x) + Math.exp(-x))\r\n        let fe = 0.5 * (1 + thx)\r\n        let d0 = dc * Math.pow(fe / (8 * Math.sin(alpha)), 1 / 3)\r\n        let v0 = q / d0\r\n\r\n        let outStr = \"L1=\" + L1.toFixed(4).toString() + \"; d1=\" + d1.toFixed(4).toString() + \"; v=\" + v.toFixed(4).toString() + \"; L2=\" + L2.toFixed(4).toString() + \"; d0=\" + d0.toFixed(4).toString() + \"; v0=\" + v0.toFixed(4).toString()\r\n        return outStr\r\n\r\n      } else {\r\n        return \"请调整h和l的数值\"\r\n      }\r\n    } else {\r\n      return \"跌水\"\r\n    }\r\n    return Q\r\n  }\r\n\r\n\r\n  export function njslkxy263(Q: number, b: number, h: number, Hyan: number, H: number, L1DivH: number) {\r\n    let q = Q / b\r\n    let dc = Math.pow(q * q / g, 1 / 3)\r\n    let dcDivH = dc / h\r\n    let d0DivH = 0\r\n    let d0 = 0\r\n    let v0 = 0\r\n    if (dcDivH >= 0.6 && dcDivH < 1.6) {\r\n      d0DivH = -0.1 + 0.688 * dcDivH\r\n      // console.log(d0DivH, dcDivH)\r\n\r\n      if (d0DivH >= 0.31 && d0DivH < 1.0) {\r\n        d0 = d0DivH * h\r\n        v0 = Q / d0\r\n      }\r\n      else\r\n        return \"不符合条件,请重新调整参数计算\"\r\n    }\r\n    else {\r\n      d0DivH = 0.432 + 0.355 * dcDivH\r\n      if (d0DivH >= 1.0) {\r\n        d0 = d0DivH * h\r\n        v0 = Q / d0\r\n      }\r\n      else\r\n        return \"不符合条件,请重新调整参数计算\"\r\n    }\r\n    // console.log(dcDivH)\r\n    // console.log(d0DivH)\r\n\r\n    let L2 = 0\r\n    let eta = 0\r\n    if (dcDivH >= 0.6 && dcDivH < 1.8) {\r\n      let L2DivH = 3.06 + 11.69 * dcDivH\r\n      L2 = L2DivH * h\r\n\r\n      let E = Hyan + H\r\n      eta = (E - (d0 + v0 / (2 * g))) / E\r\n    }\r\n    else\r\n      return \"不符合条件,请重新调整参数计算\"\r\n\r\n    let outStr = \"L1=\" + (L1DivH * h).toFixed(4).toString() + \"; L2=\" + L2.toFixed(4).toString() + \"; d0=\" + d0.toFixed(4).toString() + \"; v0=\" + v0.toFixed(4).toString() + \"; eta=\" + eta.toFixed(4).toString()\r\n    return outStr\r\n  }\r\n}\r\n"],"sourceRoot":""}
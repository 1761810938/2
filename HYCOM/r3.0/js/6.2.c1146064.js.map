{"version":3,"sources":["webpack:///./src/views/section6/6.2/index.vue?5d80","webpack:///./src/views/section6/6.2/index.vue?c0d0","webpack:///./src/views/section6/6.2/index.vue?3662","webpack:///./src/views/section6/6.2/index.vue","webpack:///./src/views/chapter6/6.2/index.vue?f887","webpack:///./src/views/chapter6/6.2/index.vue?4ff5","webpack:///./src/views/chapter6/6.2/index.vue?ab07","webpack:///./src/views/chapter6/6.2/index.vue","webpack:///./src/hycom_lib/chapter6.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","staticRenderFns","component","ref","title","data","initData","demoContent","demoResult","formulas","on","beforeOnCalculate","D","Q","n_z","L","0","1","2","3","4","5","6","7","8","9","value","yxgdssjs","outStr","toFixed","toString","template","$refs","form","result","components","HycomForm","Chapter6","jsjjzj","vE","QMax","Math","sqrt","PI","n","zeta","R","v","h_y","pow","h_j","h","scbs","Es","deltaS","Ew","gamma","r","K","C","gdtzxs","vMax","H0","rou","sctxcs","Ts","sigma","pdzjschjjsc","tR","zjsc","v0","deltaH","jssc","tou0","judge","tou","eta","minusDeltaH","dlsjgs","q","z","sslsdsysdsd","htcjls","z0","phi","td","nabla","v1_prime","beta","acos","h0","learningRate","v1","ii","sin","chk","abs","htsdsyl","xywhtzdcksdsd","k","ylbxlcht","b","h1","h_prime","F_r1","h2","ylbslkhs","hv","size","length","output","Array","ha","index","hi","vi","tljs","theta","H","cos","t","tanBeta","tan","Lc","LTotal","T","gbslxxjzyx_tlcsksd","H_up","H_down","t_prime","C_q"],"mappings":"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","file":"js/6.2.c1146064.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h1',[_vm._v(\"6.2 溢流坝面或泄槽水面波动及掺气水深\")])]),_c('transition',{attrs:{\"name\":\"fade-transform\",\"mode\":\"out-in\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nexport default {}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=24409af7&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('hycom-form',{ref:\"template\",attrs:{\"title\":_vm.title,\"data\":_vm.data,\"init-data\":_vm.initData,\"demo-content\":_vm.demoContent,\"demo-result\":_vm.demoResult,\"formulas\":_vm.formulas},on:{\"beforeOnCalculate\":_vm.beforeOnCalculate}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport { Chapter6 } from '@/hycom_lib/chapter6'\r\n\r\nimport HycomForm from '@/components/HycomForm/index.vue'\r\n\r\n@Component({\r\n  components: {\r\n    HycomForm\r\n  }\r\n})\r\nexport default class Chapter7Section2 extends Vue {\r\n  private title = '7.2圆形管道水头损失计算';\r\n  private initData = {\r\n    D: 11.5,\r\n    Q: 579.76,\r\n    n_z: 0.012,\r\n    '\\\\zeta': 0.1 + 0.0432 + 0.1 + 0.2 + 0.05 + 0.05 + 0.05 + 0.18,\r\n    L: 46.8 + 263.1\r\n  };\r\n  private data = {\r\n    D: '',\r\n    Q: '',\r\n    n_z: '',\r\n    '\\\\zeta': '',\r\n    L: ''\r\n  };\r\n\r\n  private formulas = {\r\n    0: '$$Q :流量,m^3/s$$',\r\n    1: '$$n_z :糙率$$',\r\n    2: '$$h :管道起始断面之间的总水头损失,m$$',\r\n    3: '$$h_y :沿程水头损失,m$$',\r\n    4: '$$h_j :局部水头损失,m$$',\r\n    5: '$$L :管道的长度,m$$',\r\n    6: '$$D :管道的直径,m$$',\r\n    7: '$$R :管道的水力半径,m$$',\r\n    8: '$$f :相应于圆形管道的沿程阻力系数$$',\r\n    9: '$$\\\\zeta :局部水头损失系数$$'\r\n  };\r\n\r\n  private demoContent =\r\n    '某水电站单机过流量579.76m^3/s,压力钢管直径11.5m,钢管糙率0.012,进水口长度46.8m,钢管从渐变段末端到厂房蜗壳中心处263.10m,局部水头损失系数见下表,求总水头损失.';\r\n  private demoResult = '求得总水头损失为1.57';\r\n\r\n  public beforeOnCalculate() {\r\n    let value = Chapter6.yxgdssjs(\r\n      +this.data.D,\r\n      +this.data.Q,\r\n      +this.data.n_z,\r\n      +this.data['\\\\zeta'],\r\n      +this.data.L\r\n    )\r\n    let outStr = '总水头损失=' + value.toFixed(2).toString()\r\n\r\n    let template = this.$refs.template as any\r\n    template.form.result = outStr\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ec459f1e&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable */\r\nimport { g } from './common'\r\n/**\r\n * Chapter6 水电站压力管道水力学计算\r\n * 部分计算参考以下网址\r\n * https://raymondmcguire.github.io/?e=HYCAL&&theme=Image-Visual-Lab\r\n */\r\nexport module Chapter6 {\r\n\r\n  /**\r\n   * 6.1计算经济直径\r\n   * @param vE\r\n   * @param QMax\r\n   * @returns D\r\n   */\r\n  export function jsjjzj(vE: number, QMax: number) {\r\n    let D = Math.sqrt(4 * QMax / (Math.PI * vE))\r\n    // console.log(D);\r\n    return D\r\n  }\r\n\r\n  /**\r\n   * 6.2 圆形管道水头损失计算\r\n   * @param D\r\n   * @param Q\r\n   * @param n\r\n   * @param zeta\r\n   * @param L\r\n   * @returns h\r\n   */\r\n  export function yxgdssjs(D: number, Q: number, n: number, zeta: number, L: number) {\r\n    let R = D / 4\r\n    let v = 4 * Q / (Math.PI * D * D)\r\n    let h_y = n * n * v * v * L / Math.pow(R, 4 / 3)\r\n    let h_j = zeta * v * v / (2 * g)\r\n    // console.log(R);\r\n    // console.log(zeta);\r\n    // console.log(v);\r\n    // console.log(h_y, h_j)\r\n    let h = h_j + h_y\r\n    // console.log(h);\r\n    return h\r\n  }\r\n\r\n  /**\r\n   * 6.3 水锤计算\r\n   * 6.3.1 求水锤波速C\r\n   * @param D\r\n   * @param Es\r\n   * @param deltaS\r\n   * @param Ew\r\n   * @param gamma\r\n   */\r\n  export function scbs(D: number, Es: number, deltaS: number, Ew: number, gamma: number) {\r\n    let r = D / 2\r\n    let K = Es * deltaS / (r * r)\r\n    // console.log(K);\r\n    let C = Math.sqrt(Ew * g * 100 / gamma) / (Math.sqrt(1 + 2 * Ew / (K * r)) * 100)\r\n    return C\r\n  }\r\n\r\n  /**\r\n   * 6.3.2 管道特征系数\r\n   * @param C\r\n   * @param vMax\r\n   * @param H0\r\n   */\r\n  export function gdtzxs(C: number, vMax: number, H0: number) {\r\n    let rou = C * vMax / (2 * g * H0)\r\n    // console.log(rou);\r\n    return rou\r\n  }\r\n\r\n  /**\r\n   * 6.3.3 求水锤的特性参数\r\n   * @param L\r\n   * @param vMax\r\n   * @param Ts\r\n   * @param H0\r\n   */\r\n  export function sctxcs(L: number, vMax: number, Ts: number, H0: number) {\r\n    let sigma = L * vMax / (g * H0 * Ts)\r\n    // console.log(sigma);\r\n    return sigma\r\n  }\r\n\r\n  /**\r\n   * 6.3.4 判断直接水锤和间接水锤\r\n   * @param L\r\n   * @param C\r\n   * @param Ts\r\n   */\r\n  export function pdzjschjjsc(L: number, C: number, Ts: number) {\r\n    let tR = 2 * L / C\r\n    // console.log(tR);\r\n    if (Ts < tR) {\r\n      return '直接水锤'\r\n    } else {\r\n      return '间接水锤'\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 6.3.5 直接水锤计算\r\n   * @param C\r\n   * @param Ts\r\n   */\r\n  export function zjsc(C: number, v0: number) {\r\n    let deltaH = C * v0 / g\r\n    // console.log(deltaH);\r\n    return deltaH\r\n  }\r\n\r\n  /**\r\n   * 6.3.6 间接水锤计算\r\n   * @param tou0\r\n   * @param rou\r\n   * @param sigma\r\n   * @param H0\r\n   */\r\n  export function jssc(tou0: number, rou: number, sigma: number, H0: number) {\r\n    let judge = tou0 * rou\r\n    let tou = 0\r\n    let eta = 0\r\n\r\n    if (judge < 1) {\r\n      // 第一相水锤\r\n      tou = 2 * sigma / (1 + judge - sigma)\r\n      eta = 2 * sigma / (1 + judge + sigma)\r\n    } else {\r\n      tou = 2 * sigma / (2 - sigma)\r\n      eta = 2 * sigma / (2 + sigma)\r\n    }\r\n    let deltaH = tou * H0\r\n    let minusDeltaH = eta * H0\r\n\r\n    // console.log(deltaH);\r\n    // console.log(minusDeltaH);\r\n\r\n    return [deltaH, minusDeltaH]\r\n  }\r\n\r\n\r\n\r\n  // 跌流射距估算\r\n  export function dlsjgs(q: number, z: number) {\r\n    return 2.3 * Math.pow(q,0.54) * Math.pow(z,0.19)\r\n  }\r\n\r\n  //水舌落水点上游水垫深度估算\r\n  export function sslsdsysdsd(q: number, z: number) {\r\n    return 0.6 * Math.pow(q,0.44) * Math.pow(z,0.34)\r\n  }\r\n\r\n    //护坦的冲击流速\r\n    export function htcjls(q: number, z: number, z0:number, phi:number, td:number, nabla:number) {\r\n      let v0 = phi * Math.sqrt(2 * g * z0)\r\n      let v1_prime = 0.01\r\n      let beta = -1\r\n      if(nabla!=0)\r\n      {\r\n        v1_prime =  4.88 * Math.pow(q,0.15) * Math.pow(z,0.275)\r\n        beta = Math.acos(2 * v1_prime / v0 -1)\r\n      }else\r\n      {\r\n        let h0 = q/v0\r\n\r\n        let learningRate = 0.01\r\n        let v1 = -1\r\n      \r\n       \r\n        for (let ii = 0; ii < 10000; ii++) {\r\n             beta = Math.acos(2 * v1_prime / v0 -1)\r\n            v1 = 2.5 * v0 / Math.sqrt(td / (h0 * Math.sin(beta)))\r\n            v1_prime -= learningRate * (v1_prime - v1)\r\n       \r\n    \r\n          let chk = Math.abs(v1 - v1_prime)\r\n          if (chk < 0.001) {\r\n            return {v1:v1_prime,beta:beta}\r\n          }\r\n        }\r\n      }\r\n\r\n    \r\n    return {v1:v1_prime,beta:beta}\r\n    }\r\n\r\n\r\n    //护坦上的动水压力\r\n    export function htsdsyl(gamma: number, v1: number, beta:number) {\r\n      return gamma * Math.pow(v1 * Math.sin(beta/180 *  Math.PI), 2) / (2 * g)\r\n    }\r\n\r\n    //下游无护坦的最大冲坑水垫深度\r\n    export function xywhtzdcksdsd(k:number,q: number, z: number) {\r\n      return k * Math.pow(q,0.5) * Math.pow(z,0.25)\r\n    }\r\n\r\n    //溢流坝消力池护坦\r\n    export function ylbxlcht(H0: number, Q: number, b:number, phi:number) {\r\n      let outStr =\"\"\r\n      let h1 = -1\r\n      let h_prime = 6\r\n        let learningRate = 0.01\r\n      \r\n        for (let ii = 0; ii < 10000; ii++) {\r\n          h1 = H0 - Math.pow(Q/b,2)/(2*g*phi*phi*h_prime*h_prime)\r\n          h_prime -= learningRate * (h1 - h_prime)\r\n          let chk = Math.abs(h1 - h_prime)\r\n          if (chk < 0.001) {\r\n            //console.log(h1)\r\n            break\r\n          }\r\n        }\r\n\r\n        let v1 = Q/(b * h1)\r\n        let F_r1 = v1 / Math.sqrt(g * h1)\r\n        let h2 = h1/2*(Math.sqrt(1 + 8 * F_r1*F_r1) - 1)\r\n        //console.log(h2)\r\n        if(F_r1 > 4.5)\r\n        {\r\n          let L = 6.9 * (h2-h1)\r\n          outStr+= \"不设辅助消能工:L=\" + L.toFixed(2).toString() + \", Fr=\"  + F_r1.toFixed(2).toString() +\", h1=\" + h1.toFixed(2).toString() + \", h2=\" + h2.toFixed(2).toString()+\"; \";\r\n        \r\n          if(v1 > 16)\r\n          {\r\n            L = (3.2 + 4.3)/2 * h2\r\n            outStr+= \"不设消力墩,设梳流坎和尾坎:L=\" + L.toFixed(2).toString() + \", Fr=\"  + F_r1.toFixed(2).toString() +\", h1=\" + h1.toFixed(2).toString() + \", h2=\" + h2.toFixed(2).toString()+\"; \"\r\n           \r\n          }else\r\n          {\r\n            L = (2.3 + 2.8)/2 * h2\r\n            outStr+= \"设消力墩，设梳流坎和尾坎:L=\" + L.toFixed(2).toString() + \", Fr=\"  + F_r1.toFixed(2).toString() +\", h1=\" + h1.toFixed(2).toString() + \", h2=\" + h2.toFixed(2).toString()+\"; \";\r\n          }\r\n         \r\n        \r\n        }else\r\n        {\r\n          outStr+= \"不满足: Fr=\"  + F_r1.toFixed(2).toString() +\", v1=\" +v1 .toFixed(2).toString()+\", h1=\" + h1.toFixed(2).toString() + \", h2=\" + h2.toFixed(2).toString()+\";\";\r\n        }\r\n\r\n        return outStr\r\n      }\r\n\r\n      //溢流坝水流空化数估算\r\n      export function ylbslkhs(nabla: number, hv: number, h:Array<number>,v:Array<number>) {\r\n\r\n        let size = h.length\r\n        let output = new Array<string>(size)\r\n  \r\n        let ha = 1.33 - nabla / 900\r\n  \r\n        for (let index = 0; index <size; index++) {\r\n          let hi = +h[index]; \r\n          let vi = +v[index];\r\n          let sigma = (hi + ha - hv) / (vi * vi / (2 * g))\r\n          output[index] = \"水流空化数=\"+sigma.toFixed(5).toString()\r\n        }\r\n        return output\r\n      }\r\n\r\n\r\n        /**\r\n   * 6.3.1 挑流水舌外缘挑距及冲坑深度\r\n   * @param h\r\n   * @param theta\r\n   * @param H0\r\n   * @param h2\r\n   * @param K\r\n   * @param q\r\n   * @param H\r\n   * @param td\r\n   * @returns LTotal,T\r\n   *\r\n   */\r\n  export function tljs(h: number, theta: number, H0: number,\r\n    h2: number, K: number, q: number, H: number, td: number) {\r\n    let h1 = h / Math.cos(theta)\r\n    let v1 = 0.95 * Math.sqrt(2 * g * (H0 - h1))\r\n    let L = v1 * v1 * Math.cos(theta) * (Math.sin(theta) + Math.sqrt(Math.sin(theta) * Math.sin(theta) + 2 * g * (h1 + h2) / (v1 * v1))) / g\r\n    let t = K * Math.pow(q, 0.5) * Math.pow(H, 0.25)\r\n\r\n    let tanBeta = Math.sqrt(Math.tan(theta) * Math.tan(theta) + 2 * g * (h2 + h * Math.cos(theta)) / (v1 * v1 * Math.cos(theta) * Math.cos(theta)))\r\n    let Lc = t / tanBeta\r\n    // console.log(Lc);\r\n    let LTotal = L + Lc\r\n    let T = t - td\r\n    // console.log(T);\r\n    return [LTotal, T]\r\n  }\r\n\r\n  //拱坝水流向心集中影响挑流冲刷坑深度\r\n  export function gbslxxjzyx_tlcsksd(R:number, L:number, H_up:number,H_down:number,\r\n    K:number, Q:number,b:number, t_prime:number) {\r\n    let H = H_up - H_down\r\n    let C_q = R / (R - L)\r\n    let t = K * C_q * Math.pow(Q/b,0.5) * Math.pow(H,0.25)\r\n     // console.log(C_q,t)\r\n    if(t < t_prime)\r\n      return 0\r\n\r\n    return t-t_prime\r\n  }\r\n      \r\n}\r\n"],"sourceRoot":""}
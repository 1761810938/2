(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{4565:function(e,r,t){"use strict";var s=t("a88e"),a=t.n(s);a.a},7410:function(e,r,t){},a88e:function(e,r,t){},d067:function(e,r,t){"use strict";var s=t("7410"),a=t.n(s);a.a},d5c2:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login-container"},[t("el-form",{ref:"registerForm",staticClass:"login-form",attrs:{model:e.registerForm,rules:e.registerRules,"auto-complete":"on","label-position":"left"}},[t("h3",{staticClass:"title"},[e._v("\n      注册账号\n    ")]),t("el-form-item",{attrs:{prop:"username"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{name:"user"}})],1),t("el-input",{attrs:{name:"username",type:"text","auto-complete":"on",placeholder:"请输入用户名"},model:{value:e.registerForm.username,callback:function(r){e.$set(e.registerForm,"username",r)},expression:"registerForm.username"}})],1),t("el-form-item",{attrs:{prop:"work"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{name:"form"}})],1),t("el-input",{attrs:{name:"work",type:"text","auto-complete":"on",placeholder:"请输入从事职业"},model:{value:e.registerForm.work,callback:function(r){e.$set(e.registerForm,"work",r)},expression:"registerForm.work"}})],1),t("el-form-item",{attrs:{prop:"level"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{name:"form"}})],1),t("el-input",{attrs:{name:"level",type:"text","auto-complete":"on",placeholder:"请输入您的职称"},model:{value:e.registerForm.level,callback:function(r){e.$set(e.registerForm,"level",r)},expression:"registerForm.level"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{name:"password"}})],1),t("el-input",{attrs:{type:e.pwdType,name:"password","auto-complete":"on",placeholder:"请输入密码"},model:{value:e.registerForm.password,callback:function(r){e.$set(e.registerForm,"password",r)},expression:"registerForm.password"}}),t("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[t("svg-icon",{attrs:{name:"password"===e.pwdType?"eye-off":"eye-on"}})],1)],1),t("el-form-item",{attrs:{prop:"confirm_password"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{name:"password"}})],1),t("el-input",{attrs:{type:e.pwdType,name:"confirm_password","auto-complete":"on",placeholder:"请再次输入密码"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleRegister(r)}},model:{value:e.registerForm.confirm_password,callback:function(r){e.$set(e.registerForm,"confirm_password",r)},expression:"registerForm.confirm_password"}}),t("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[t("svg-icon",{attrs:{name:"password"===e.pwdType?"eye-off":"eye-on"}})],1)],1),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(r){return r.preventDefault(),e.handleRegister(r)}}},[e._v("\n        注册\n      ")])],1),t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},nativeOn:{click:function(r){return r.preventDefault(),e.loginPage(r)}}},[e._v("\n      返回\n    ")])],1)],1)},a=[],o=t("d225"),n=t("b0b4"),i=t("308d"),l=t("6bb5"),c=t("4e2b"),p=t("9ab4"),m=t("60a3"),u=t("0631"),d=function(e){function r(){var e;return Object(o["a"])(this,r),e=Object(i["a"])(this,Object(l["a"])(r).apply(this,arguments)),e.registerForm={username:"",password:"",confirm_password:"",work:"",level:""},e.validateUsername=function(e,r,t){r.length<5?t(new Error("用户名不能小于5位")):t()},e.validatePass=function(e,r,t){r.length<5?t(new Error("密码不能小于5位")):t()},e.validateConfirmPass=function(r,t,s){t!=e.registerForm.password?s(new Error("与输入密码不一致")):s()},e.registerRules={username:[{required:!0,trigger:"blur",validator:e.validateUsername}],password:[{required:!0,trigger:"blur",validator:e.validatePass}],confirm_password:[{required:!0,trigger:"blur",validator:e.validateConfirmPass}]},e.loading=!1,e.redirect=void 0,e.pwdType="password",e}return Object(c["a"])(r,e),Object(n["a"])(r,[{key:"showPwd",value:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"}},{key:"OnRouteChange",value:function(e){this.redirect=e.query&&e.query.redirect}},{key:"loginPage",value:function(){this.$router.push({path:"/login"})}},{key:"handleRegister",value:function(){var e=this;this.$refs.registerForm.validate(function(r){r&&(e.loading=!0,u.User.signUp(e.registerForm.username,e.registerForm.password,{job:e.registerForm.work,title:e.registerForm.level}).then(function(r){e.loading=!1,e.$message("创建用户成功!"),e.registerForm.username=e.registerForm.password=e.registerForm.level=e.registerForm.work=e.registerForm.confirm_password=""}).catch(function(){e.loading=!1,e.$message("创建用户失败!")}))})}}]),r}(m["c"]);p["a"]([Object(m["d"])("$route",{immediate:!0})],d.prototype,"OnRouteChange",null),d=p["a"]([m["a"]],d);var g=d,w=g,f=(t("4565"),t("d067"),t("0c7c")),v=Object(f["a"])(w,s,a,!1,null,"02cb4887",null);r["default"]=v.exports}}]);
//# sourceMappingURL=register.bd3bdd23.js.map